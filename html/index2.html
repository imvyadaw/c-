<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration </title>
</head>
<body>
    <table>
        <h2>Registration Form</h2>
        <tr>
          <td>First Name:</td>
          <td><input type="text" name="fname"></td>
        </tr>
        <tr>
          <td>Last Name:</td>
          <td><input type="text" name="lname"></td>
        </tr>
        <tr>
          <td>Email:</td>
          <td><input type="email" name="email"></td>
        </tr>
        <tr>
          <td>Password:</td>
          <td><input type="password" name="password"></td>
        </tr>
        <tr>
          <td>Confirm Password:</td>
          <td><input type="password" name="confirm_password"></td>
        </tr>
        <tr>
          <td colspan="2"><input type="submit" value="Register"></td>
        </tr>
      </table>
</body>
</html> -->


IWT  EXPREMENT 4

// CookieServlet.java
import javax.servlet.*;
import javax.servlet.http.*;
import java.io.*;

public class CookieServlet extends HttpServlet {
    public void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        // Create a cookie
        Cookie cookie = new Cookie("username", "John Doe");
        cookie.setMaxAge(60 * 60 * 24); // expires in 1 day

        // Add the cookie to the response
        response.addCookie(cookie);

        // Print a message to the user
        PrintWriter out = response.getWriter();
        out.println("Cookie created successfully!");

        // Retrieve the cookie
        Cookie[] cookies = request.getCookies();
        if (cookies != null) {
            for (Cookie c : cookies) {
                if (c.getName().equals("username")) {
                    out.println("Cookie value: " + c.getValue());
                }
            }
        }
    }
}

// web.xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.1" xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd">
    <servlet>
        <servlet-name>CookieServlet</servlet-name>
        <servlet-class>CookieServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CookieServlet</servlet-name>
        <url-pattern>/cookieservlet</url-pattern>
    </servlet-mapping>
</web-app>

// index.html
<!DOCTYPE html>
<html>
<head>
    <title>Cookie Servlet Example</title>
</head>
<body>
    <h1>Cookie Servlet Example</h1>
    <form action="cookieservlet" method="get">
        <input type="submit" value="Create and Retrieve Cookie">
    </form>
</body>
</html>

Q1- Java Servlets
import javax.servlet.*;
import java.io.*;

public class HelloWorldServlet extends HttpServlet {
    public void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();

        out.println("<html>");
        out.println("<body>");
        out.println("<h1>Hello, World!</h1>");
        out.println("</body>");
        out.println("</html>");
   }
}

Q2-Simple Servlets

// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

// Extend HttpServlet class
public class HelloWorld extends HttpServlet {

    private String message;

    public void init() throws ServletException {
       // Do required initialization
       message = "Hello World";
    }

    public void doGet(HttpServletRequest request, HttpServletResponse response)
       throws ServletException, IOException {

       // Set response content type
       response.setContentType("text/html");

       // Actual logic goes here.
       PrintWriter out = response.getWriter();
       out.println("<h1>" + message + "</h1>");
    }

    public void destroy() {
       // do nothing.
    }
}

Q3-Servlets with HTML form

import javax.servlet.*;
import java.io.*;
public class MyServlet extends HttpServlet {
public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
    // Get the form data from the request
    String name = request.getParameter("name");
    String email = request.getParameter("email");

    // Process the form data
    System.out.println("Name: " + name);
    System.out.println("Email: " + email);

    // Send a response back to the client
    response.setContentType("text/html");
    PrintWriter out = response.getWriter();
    out.println("<html><body>");
    out.println("<h1>Form Data</h1>");
    out.println("<p>Name: " + name + "</p>");
    out.println("<p>Email: " + email + "</p>");
    out.println("</body></html>");
  }
}

Q4-Cookie creation and retrieval using servlet

// MyServlet.java
import javax.servlet.*;
import java.io.*;

public class MyServlet extends HttpServlet {
  public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
    // Create a cookie
    Cookie cookie = new Cookie("username", "John Doe");
    cookie.setMaxAge(3600); // set the cookie to expire in 1 hour

    // Add the cookie to the response
    response.addCookie(cookie);

    // Send a response back to the client
    response.setContentType("text/html");
    PrintWriter out = response.getWriter();
    out.println("<html><body>");
    out.println("<h1>Cookie Created!</h1>");
    out.println("</body></html>");
  }

  public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
    // Get the cookies from the request
    Cookie[] cookies = request.getCookies();

    // Loop through the cookies and find the one we're interested in
    for (Cookie cookie : cookies) {
      if (cookie.getName().equals("username")) {
        String username = cookie.getValue();
        System.out.println("Username: " + username);

        // Send a response back to the client
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();
        out.println("<html><body>");
        out.println("<h1>Welcome, " + username + "!</h1>");
        out.println("</body></html>");
      }
    }
  }
}


